<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.meta.crm.core.mapper.CrmCompanyInfoMapper">

    <resultMap type="com.meta.crm.intf.entity.CrmCompanyInfo" id="crmCompanyInfoMap">
        <result property="id" column="id"/>
        <result property="creditCode" column="credit_code"/>
        <result property="companyName" column="company_name"/>
        <result property="basicInfo" column="basic_info"/>
        <result property="shareholderInfo" column="shareholder_info"/>
        <result property="memberInfo" column="member_info"/>
        <result property="changeInfo" column="change_info"/>
        <result property="branchInfo" column="branch_info"/>
        <result property="operationInfo" column="operation_info"/>
        <!--<result property="tenantId" column="tenant_id"/>-->
        <result property="delFlag" column="del_flag"/>
        <result property="createBy" column="create_by"/>
        <result property="createTime" column="create_time"/>
        <result property="updateBy" column="update_by"/>
        <result property="updateTime" column="update_time"/>
        <result property="remark" column="remark"/>
    </resultMap>

    <!-- 可根据自己的需求，是否要使用 -->
    <sql id="Base_Column_List">
        id, credit_code, company_name, basic_info, shareholder_info, member_info, change_info, branch_info, operation_info, del_flag, create_by, create_time, update_by, update_time, remark
    </sql>

    <insert id="insertCrmCompanyInfo" parameterType="com.meta.crm.intf.entity.CrmCompanyInfo" useGeneratedKeys="true"
            keyProperty="id">
        INSERT INTO crm_company_info
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="creditCode != null">
                credit_code,
            </if>
            <if test="companyName != null">
                company_name,
            </if>
            <if test="basicInfo != null">
                basic_info,
            </if>
            <if test="shareholderInfo != null">
                shareholder_info,
            </if>
            <if test="memberInfo != null">
                member_info,
            </if>
            <if test="changeInfo != null">
                change_info,
            </if>
            <if test="branchInfo != null">
                branch_info,
            </if>
            <if test="operationInfo != null">
                operation_info,
            </if>

            <if test="delFlag != null">
                del_flag,
            </if>
            <if test="createBy != null">
                create_by,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="updateBy != null">
                update_by,
            </if>
            <if test="updateTime != null">
                update_time,
            </if>
            <if test="remark != null">
                remark,
            </if>
        </trim>
        VALUE
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id},
            </if>
            <if test="creditCode != null">
                #{creditCode},
            </if>
            <if test="companyName != null">
                #{companyName},
            </if>
            <if test="basicInfo != null">
                #{basicInfo},
            </if>
            <if test="shareholderInfo != null">
                #{shareholderInfo},
            </if>
            <if test="memberInfo != null">
                #{memberInfo},
            </if>
            <if test="changeInfo != null">
                #{changeInfo},
            </if>
            <if test="branchInfo != null">
                #{branchInfo},
            </if>
            <if test="operationInfo != null">
                #{operationInfo},
            </if>
            <if test="delFlag != null">
                #{delFlag},
            </if>
            <if test="createBy != null">
                #{createBy},
            </if>
            <if test="createTime != null">
                #{createTime},
            </if>
            <if test="updateBy != null">
                #{updateBy},
            </if>
            <if test="updateTime != null">
                #{updateTime},
            </if>
            <if test="remark != null">
                #{remark},
            </if>
        </trim>
    </insert>

    <select id="getCompanyDetail" parameterType="com.meta.crm.intf.req.ro.CrmCompanyInfoRo"
            resultMap="crmCompanyInfoMap">
        select
        <include refid="Base_Column_List"/>
        from crm_company_info
        where 1=1
        <if test="id != null">
            and id = #{id}
        </if>
        <if test="creditCode != null">
            and credit_code = #{creditCode}
        </if>
        <if test="companyName != null">
            and company_name = #{companyName}
        </if>
    </select>


    <select id="listCompanyInfoByFuzzy" parameterType="com.meta.crm.intf.req.ro.CrmCompanyInfoRo">
        select
        id, credit_code, company_name
        <!--<include refid="Base_Column_List"/>-->
        from crm_company_info
        <where>
            1 = 1
            and company_name like CONCAT('%', #{companyName,jdbcType=VARCHAR}, '%')
        </where>
    </select>

    <select id="listCrmCompanyInfo" parameterType="com.meta.crm.intf.req.ro.CrmCompanyInfoRo"
            resultMap="crmCompanyInfoMap">
        select
        <include refid="Base_Column_List"/>
        from crm_company_info
        <where>
            1 = 1
            <if test="id != null">
                and id = #{id}
            </if>
            <if test="creditCode != null">
                and credit_code = #{creditCode}
            </if>
            <if test="companyName != null">
                and company_name = #{companyName}
            </if>
        </where>
    </select>


    <!--    <insert id="batchInsertCrmCompanyInfo" parameterType="com.meta.crm.intf.domain.CrmCompanyInfo" useGeneratedKeys="true"-->
    <!--            keyProperty="id">-->
    <!--        INSERT INTO crm_company_info-->
    <!--        <trim prefix="(" suffix=")" suffixOverrides=",">-->
    <!--                            <if test="id != null">-->
    <!--                    id,-->
    <!--                </if>-->
    <!--                            <if test="name != null">-->
    <!--                    name,-->
    <!--                </if>-->
    <!--                            <if test="operName != null">-->
    <!--                    oper_name,-->
    <!--                </if>-->
    <!--                            <if test="address != null">-->
    <!--                    address,-->
    <!--                </if>-->
    <!--                            <if test="contactNumber != null">-->
    <!--                    contact_number,-->
    <!--                </if>-->
    <!--                            <if test="email != null">-->
    <!--                    email,-->
    <!--                </if>-->
    <!--                            <if test="tag != null">-->
    <!--                    tag,-->
    <!--                </if>-->
    <!--                            <if test="status != null">-->
    <!--                    status,-->
    <!--                </if>-->
    <!--                            <if test="keyNo != null">-->
    <!--                    key_no,-->
    <!--                </if>-->
    <!--                            <if test="creditCode != null">-->
    <!--                    credit_code,-->
    <!--                </if>-->
    <!--                            <if test="date != null">-->
    <!--                    date,-->
    <!--                </if>-->
    <!--                            <if test="tenantId != null">-->
    <!--                    tenant_id,-->
    <!--                </if>-->
    <!--                            <if test="delFlag != null">-->
    <!--                    del_flag,-->
    <!--                </if>-->
    <!--                            <if test="createBy != null">-->
    <!--                    create_by,-->
    <!--                </if>-->
    <!--                            <if test="createTime != null">-->
    <!--                    create_time,-->
    <!--                </if>-->
    <!--                            <if test="updateBy != null">-->
    <!--                    update_by,-->
    <!--                </if>-->
    <!--                            <if test="updateTime != null">-->
    <!--                    update_time,-->
    <!--                </if>-->
    <!--                            <if test="remark != null">-->
    <!--                    remark,-->
    <!--                </if>-->
    <!--                    </trim>-->
    <!--        VALUES-->
    <!--        <foreach collection="list" separator="," item="crmCompanyInfo">-->
    <!--            <trim prefix="(" suffix=")" suffixOverrides=",">-->
    <!--                                    <if test="id != null">-->
    <!--                        #{id},-->
    <!--                    </if>-->
    <!--                                    <if test="name != null">-->
    <!--                        #{name},-->
    <!--                    </if>-->
    <!--                                    <if test="operName != null">-->
    <!--                        #{operName},-->
    <!--                    </if>-->
    <!--                                    <if test="address != null">-->
    <!--                        #{address},-->
    <!--                    </if>-->
    <!--                                    <if test="contactNumber != null">-->
    <!--                        #{contactNumber},-->
    <!--                    </if>-->
    <!--                                    <if test="email != null">-->
    <!--                        #{email},-->
    <!--                    </if>-->
    <!--                                    <if test="tag != null">-->
    <!--                        #{tag},-->
    <!--                    </if>-->
    <!--                                    <if test="status != null">-->
    <!--                        #{status},-->
    <!--                    </if>-->
    <!--                                    <if test="keyNo != null">-->
    <!--                        #{keyNo},-->
    <!--                    </if>-->
    <!--                                    <if test="creditCode != null">-->
    <!--                        #{creditCode},-->
    <!--                    </if>-->
    <!--                                    <if test="date != null">-->
    <!--                        #{date},-->
    <!--                    </if>-->
    <!--                                    <if test="tenantId != null">-->
    <!--                        #{tenantId},-->
    <!--                    </if>-->
    <!--                                    <if test="delFlag != null">-->
    <!--                        #{delFlag},-->
    <!--                    </if>-->
    <!--                                    <if test="createBy != null">-->
    <!--                        #{createBy},-->
    <!--                    </if>-->
    <!--                                    <if test="createTime != null">-->
    <!--                        #{createTime},-->
    <!--                    </if>-->
    <!--                                    <if test="updateBy != null">-->
    <!--                        #{updateBy},-->
    <!--                    </if>-->
    <!--                                    <if test="updateTime != null">-->
    <!--                        #{updateTime},-->
    <!--                    </if>-->
    <!--                                    <if test="remark != null">-->
    <!--                        #{remark},-->
    <!--                    </if>-->
    <!--                            </trim>-->
    <!--        </foreach>-->
    <!--    </insert>-->

    <!--    <update id="updateCrmCompanyInfo" parameterType="com.meta.crm.intf.domain.CrmCompanyInfo">-->
    <!--        UPDATE crm_company_info-->
    <!--        <set>-->
    <!--            <if test="id != null">-->
    <!--                id = #{id},-->
    <!--            </if>-->
    <!--            <if test="name != null">-->
    <!--                name = #{name},-->
    <!--            </if>-->
    <!--            <if test="operName != null">-->
    <!--                oper_name = #{operName},-->
    <!--            </if>-->
    <!--            <if test="address != null">-->
    <!--                address = #{address},-->
    <!--            </if>-->
    <!--            <if test="contactNumber != null">-->
    <!--                contact_number = #{contactNumber},-->
    <!--            </if>-->
    <!--            <if test="email != null">-->
    <!--                email = #{email},-->
    <!--            </if>-->
    <!--            <if test="tag != null">-->
    <!--                tag = #{tag},-->
    <!--            </if>-->
    <!--            <if test="status != null">-->
    <!--                status = #{status},-->
    <!--            </if>-->
    <!--            <if test="keyNo != null">-->
    <!--                key_no = #{keyNo},-->
    <!--            </if>-->
    <!--            <if test="creditCode != null">-->
    <!--                credit_code = #{creditCode},-->
    <!--            </if>-->
    <!--            <if test="date != null">-->
    <!--                date = #{date},-->
    <!--            </if>-->
    <!--            <if test="tenantId != null">-->
    <!--                tenant_id = #{tenantId},-->
    <!--            </if>-->
    <!--            <if test="delFlag != null">-->
    <!--                del_flag = #{delFlag},-->
    <!--            </if>-->
    <!--            <if test="createBy != null">-->
    <!--                create_by = #{createBy},-->
    <!--            </if>-->
    <!--            <if test="createTime != null">-->
    <!--                create_time = #{createTime},-->
    <!--            </if>-->
    <!--            <if test="updateBy != null">-->
    <!--                update_by = #{updateBy},-->
    <!--            </if>-->
    <!--            <if test="updateTime != null">-->
    <!--                update_time = #{updateTime},-->
    <!--            </if>-->
    <!--            <if test="remark != null">-->
    <!--                remark = #{remark},-->
    <!--            </if>-->
    <!--        </set>-->
    <!--        <where>-->
    <!--            1 = 1-->
    <!--            <if test="id != null">-->
    <!--                and id = #{id}-->
    <!--            </if>-->
    <!--            <if test="name != null">-->
    <!--                and name = #{name}-->
    <!--            </if>-->
    <!--            <if test="operName != null">-->
    <!--                and oper_name = #{operName}-->
    <!--            </if>-->
    <!--            <if test="address != null">-->
    <!--                and address = #{address}-->
    <!--            </if>-->
    <!--            <if test="contactNumber != null">-->
    <!--                and contact_number = #{contactNumber}-->
    <!--            </if>-->
    <!--            <if test="email != null">-->
    <!--                and email = #{email}-->
    <!--            </if>-->
    <!--            <if test="tag != null">-->
    <!--                and tag = #{tag}-->
    <!--            </if>-->
    <!--            <if test="status != null">-->
    <!--                and status = #{status}-->
    <!--            </if>-->
    <!--            <if test="keyNo != null">-->
    <!--                and key_no = #{keyNo}-->
    <!--            </if>-->
    <!--            <if test="creditCode != null">-->
    <!--                and credit_code = #{creditCode}-->
    <!--            </if>-->
    <!--            <if test="date != null">-->
    <!--                and date = #{date}-->
    <!--            </if>-->
    <!--            <if test="tenantId != null">-->
    <!--                and tenant_id = #{tenantId}-->
    <!--            </if>-->
    <!--            <if test="delFlag != null">-->
    <!--                and del_flag = #{delFlag}-->
    <!--            </if>-->
    <!--            <if test="createBy != null">-->
    <!--                and create_by = #{createBy}-->
    <!--            </if>-->
    <!--            <if test="createTime != null">-->
    <!--                and create_time = #{createTime}-->
    <!--            </if>-->
    <!--            <if test="updateBy != null">-->
    <!--                and update_by = #{updateBy}-->
    <!--            </if>-->
    <!--            <if test="updateTime != null">-->
    <!--                and update_time = #{updateTime}-->
    <!--            </if>-->
    <!--            <if test="remark != null">-->
    <!--                and remark = #{remark}-->
    <!--            </if>-->
    <!--        </where>-->
    <!--    </update>-->

    <!--    <update id="updateCrmCompanyInfoByPk" parameterType="com.meta.crm.intf.domain.CrmCompanyInfo">-->
    <!--        UPDATE crm_company_info-->
    <!--        <set>-->
    <!--            <if test="id != null">-->
    <!--                id = #{id},-->
    <!--            </if>-->
    <!--            <if test="name != null">-->
    <!--                name = #{name},-->
    <!--            </if>-->
    <!--            <if test="operName != null">-->
    <!--                oper_name = #{operName},-->
    <!--            </if>-->
    <!--            <if test="address != null">-->
    <!--                address = #{address},-->
    <!--            </if>-->
    <!--            <if test="contactNumber != null">-->
    <!--                contact_number = #{contactNumber},-->
    <!--            </if>-->
    <!--            <if test="email != null">-->
    <!--                email = #{email},-->
    <!--            </if>-->
    <!--            <if test="tag != null">-->
    <!--                tag = #{tag},-->
    <!--            </if>-->
    <!--            <if test="status != null">-->
    <!--                status = #{status},-->
    <!--            </if>-->
    <!--            <if test="keyNo != null">-->
    <!--                key_no = #{keyNo},-->
    <!--            </if>-->
    <!--            <if test="creditCode != null">-->
    <!--                credit_code = #{creditCode},-->
    <!--            </if>-->
    <!--            <if test="date != null">-->
    <!--                date = #{date},-->
    <!--            </if>-->
    <!--            <if test="tenantId != null">-->
    <!--                tenant_id = #{tenantId},-->
    <!--            </if>-->
    <!--            <if test="delFlag != null">-->
    <!--                del_flag = #{delFlag},-->
    <!--            </if>-->
    <!--            <if test="createBy != null">-->
    <!--                create_by = #{createBy},-->
    <!--            </if>-->
    <!--            <if test="createTime != null">-->
    <!--                create_time = #{createTime},-->
    <!--            </if>-->
    <!--            <if test="updateBy != null">-->
    <!--                update_by = #{updateBy},-->
    <!--            </if>-->
    <!--            <if test="updateTime != null">-->
    <!--                update_time = #{updateTime},-->
    <!--            </if>-->
    <!--            <if test="remark != null">-->
    <!--                remark = #{remark},-->
    <!--            </if>-->
    <!--        </set>-->
    <!--        <where>-->
    <!--            id = #{id}-->
    <!--        </where>-->
    <!--    </update>-->

</mapper>